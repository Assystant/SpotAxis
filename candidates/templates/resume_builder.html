{% extends "base/base.html" %}
{% load i18n %}
{% load TRM_tags %}
{% block meta %}
    <meta name="keyword" content="SpotAxis, Resume Buiilder, Online Resume, Online CV"/>
    <meta name="description" content="Resume Builder on SpotAxis for creating CV/Resume Online"/>
{% endblock %}

{% block title %} SpotAxis | Resume Builder {%endblock%}
{% block css %}
    <link href="{{STATIC_URL}}datepicker/css/datepicker3.css" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block page-header %}Resume Builder{%endblock%}
{% block content %}
	<!--Content Starts-->
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 bg-none pb10">
                <div class="horizontal-timeline">
                    <div class="steps">
                        <div class="step-badge">
                            <h1>1</h1>
                        </div>
                        <div class="step-header">
                            <h3>Sign Up</h3>
                        </div>
                        <div class="step-description">
                            <p>No sign up required</p>
                        </div>
                    </div>
                    <div class="steps active">
                        <div class="step-badge">
                            <h1>2</h1>
                        </div>
                        <div class="step-header">
                            <h3>Profile</h3>
                        </div>
                        <div class="step-description">
                            <p>Enter your Details</p>
                        </div>
                    </div>
                    <div class="steps inactive">
                        <div class="step-badge">
                            <h1>3</h1>
                        </div>
                        <div class="step-header">
                            <h3>Template</h3>
                        </div>
                        <div class="step-description">
                            <p>Select a Template and Download</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-3 col-md-2 hidden-xs">
                <nav  id="navbar_short"  data-spy="affix" data-offset-top="200" data-offset-bottom="50" class="affix-nav affix-top pt20">
                    <ul class="nav timeline timeline-fix " >
                        <!-- Item 1 -->
                        <li class="">
                            <a class="direction-r" href="#profile">
                                <div class="flag-wrapper">
                                    <span class="flag">Personal Profile</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 2 -->
                        <li class="">
                            <a class="direction-r" href="#contact-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Contact</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 3 -->
                        <li class="">
                            <a class="direction-r" href="#objective-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Objective and Skills</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 4 -->
                        <li class="">
                            <a class="direction-r" href="#experience-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Experience</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 5 -->
                        <li class="">
                            <a class="direction-r" href="#academic-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Education</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 6 -->
                        <li class="">
                            <a class="direction-r" href="#training-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Trainings</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 7 -->
                        <li class="">
                            <a class="direction-r" href="#certificate-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Certifications</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 8 -->
                        <li class="">
                            <a class="direction-r" href="#project-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Projects</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 9 -->
                        <li class="">
                            <a class="direction-r" href="#language-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Languages</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 10 -->
                        <li class="">
                            <a class="direction-r" href="#interests-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Interests</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 11 -->
                        <li class="">
                            <a class="direction-r" href="#hobbies-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Hobbies</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 12 -->
                        <li class="">
                            <a class="direction-r" href="#extra-curriculars-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Extra Curriculars</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 13 -->
                        <li class="">
                            <a class="direction-r" href="#others-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Others</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                        <!-- Item 14 -->
                        <li class="hidden ">
                            <a class="direction-r" href="#attachment-section">
                                <div class="flag-wrapper">
                                    <span class="flag">Attachments</span>
                                    <span class="time-wrapper hidden"><span class="time"></span></span>
                                </div>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="col-sm-9 col-md-8 " id="spysection">
                <div class="row pt40 pl10 pr10 ml5 mr5" id="profile">
                    <div class="container-fluid">
                        <div class="row personal-profile collapse fade in no-padding-bottom pt20 pb20 pl20 pr20 bg-white border-bottom border-light br-2">
                            <div class="col-md-12 text-center">
                                <a><img class="img-responsive img-circle user-photo center-block" src="/media/{{ LOGO_CANDIDATE_DEFAULT }}" alt="Talent Pic"></a>
                                <h2 class="text-muted"><span id="profile_name">First Name Last Name</span><br><small class="no-margin">
                                <small><a data-toggle="collapse" data-target=".personal-profile" class="clickable"><i class="fa fa-pencil"></i> {% trans 'Update Profile' %}</a></small>
                                </small></h2>
                                <i class="fa fa-envelope"></i> <span class="text-light">Email:</span> <a href="mailto:" id="profile_email">email@example.com</a><br>
                            </div>
                            <div class="col-xs-12 clearfix"></div>
                            <div class="col-md-12">
                                <div class="container-fluid text-center">
                                    <div class="col-xs-12 col-sm-4">
                                        <i class="fa fa-birthday-cake fa-lg"></i> <span class="text-light">Birthdate:</span> <span class="profile_birthday">NA</span>
                                    </div>
                                    <div class="col-xs-12 col-sm-4">
                                        <i class="fa fa-user fa-lg"></i> <span class="text-light">Gender:</span> <span id="profile_gender">NA</span>
                                    </div>
                                    <div class="col-xs-12 col-sm-4">
                                        <i class="fa fa-venus-mars fa-lg"></i> <span class="text-light">Marital Status:</span> <span class="profile_marital_status">NA</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row personal-profile collapse fade">
                            <form id="candidate-form" enctype="multipart/form-data" action="." method="post" role="form" class=" mb50">
                                {% csrf_token %}
                        
                                <!-- Personal Data -->
                                <div class="row">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <h3 class="text-light text-center no-margin-top">{% trans 'Personal' %}</h3>
                                    </div>
                                </div>
                                <div class="container-fluid pt40 pb40 pl20 pr20 bg-white border-bottom border-light br-2">
                                    <div class="row">
                                        <!-- Photo -->
                                        <div class="col-lg-6 col-lg-offset-3 col-md-12 col-sm-10 col-sm-offset-1">
                                            <div class="form-group">
                                                {% if form_user_photo.photo.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_user_photo.photo.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_public_photo">{% trans 'Photograph' %}</label>
                                                {% endif %}
                                                <h6 style="font-style: italic; text-align: justify;">
                                                    {% trans 'We recommend that you upload a color photo where you appear smiling. Smile is considered as a symbol of self-confidence in a candidate.' %}</h6>
                                                
                                                <img class="img-responsive img-circle user-photo center-block mb20" src="/media/{{ LOGO_CANDIDATE_DEFAULT }}" alt="Talent Pic">
                                                {{ form_candidate.public_photo }}
                                            </div>
                                        </div>
                                    </div><!-- Photo -->

                                    <div class="row mt20">
                                        <!-- Email -->
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                <label for="id_public_email">Email<span class="required"> * </span></label>
                                                <div class="input-group input-group-sm">
                                                    <div class="input-group-addon">
                                                        <i class="fa fa-envelope fa-lg"></i>
                                                    </div>
                                                    {{ form_candidate.public_email}}
                                                </div>
                                            </div>
                                        </div><!--Email-->
                                    </div>

                                    <div class="row mt20">
                                        <!-- Name -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate.first_name.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate.first_name.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_first_name">{% trans 'First Name' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate.first_name.errors %}has-error{% endif %} ">
                                                    <div class="input-group-addon"><i class="fa fa-tag fa-lg"></i></div>
                                                    {{ form_candidate.first_name }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Surname -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate.last_name.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate.last_name.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_last_name">{% trans 'Last Name' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate.last_name.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-tags fa-lg"></i></div>
                                                    {{ form_candidate.last_name }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- Name and Surname -->

                                    <div class="row">
                                        <!-- Gender -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate.gender.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate.gender.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_gender">{% trans 'Gender' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate.gender.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-venus-mars fa-lg"></i></div>
                                                    {{ form_candidate.gender }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Birthday -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate.birthday.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate.birthday.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_birthday">{% trans 'Birthdate' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate.birthday.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-calendar fa-lg"></i></div>
                                                    {{ form_candidate.birthday }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- Gender and Birthday -->

                                    <div class="row">
                                        <!-- Marital Status -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate.maritalStatus.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate.maritalStatus.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_maritalStatus">{% trans 'Marital Status' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate.maritalStatus.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-user fa-lg"></i></div>
                                                    {{ form_candidate.maritalStatus }}
                                                </div>
                                            </div>
                                        </div>                                </div><!-- Marital Status and Nationality -->

                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> {% trans 'Save and Update' %}</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#profile" data-toggle="collapse" data-target=".personal-profile" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <section class="container-field pt40 pl20 pr20 ml10 mr10" id="contact-section">
                    <div class="row contact collapse fade in">
                        <div clas="col-xs-12 no-padding">
                            <h3 class="text-light mt10 text-center">Contact</h3>
                            {% if not company %}
                                <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".contact"><i class="fa fa-pencil"></i> Update</a></span></h6>
                            {% endif %}
                            <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20">
                                <div class="row">
                                    <div class="col-xs-12 text-center">

                                        <span class="text-muted">
                                            <i class="fa fa-map-marker"></i> <span class="text-light">Address:</span> <span id="profile_address">City, State, Country</span><br>
                            
                                            <span>
                                                <span><i class="fa fa-phone"></i> Phone: <span  id="profile_phone"> Phone</span></span>, <span><i class="fa fa-mobile"></i> Cellphone: <span id="profile_cellphone"> Cellphone</span></span>
                                            </span><br>
                                            <span>
                                                <ul class="social-icons clearfix list-inline mt10">
                                                    <li class="no-padding"><a id="profile_linkedin" href="" target="_blank" class="btn btn-default btn-round"><i class="fa fa-linkedin mt10"></i></a></li>
                                                    <li class="no-padding"><a id="profile_facebook" href="" target="_blank" class="btn btn-default btn-round "><i class="fa fa-facebook mt10"></i></a></li>
                                                    <li class="no-padding"><a id="profile_twitter" href="https://www.twitter.com/" target="_blank" class="btn btn-default btn-round"><i class="fa fa-twitter mt10"></i></a></li>
                                                    <li class="no-padding"><a id="profile_google" href="" target="_blank" class="btn btn-default btn-round"><i class="fa fa-google-plus mt10"></i></a></li>
                                                </ul>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row contact collapse fade">
                        <div class="col-xs-12 no-padding">
                            <form id="contact-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <h3 class="text-light text-center">{% trans 'Contact' %}</h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20">

                                    <div class="row">
                                        <!-- Nationality -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.nationality.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.nationality.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_nationality">{% trans 'Country' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.nationality.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-globe fa-lg"></i></div>
                                                    {{ form_candidate_contact.nationality }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- State -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.state.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.state.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_state">State<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.state.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-location-arrow fa-lg"></i></div>
                                                    {{ form_candidate_contact.state }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- Marital Status and Nationality -->

                                    <div class="row">
                                        <!-- City -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.city.error %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.city.error %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_city">{% trans 'City' %}<span class="required">*</span></label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.city.error %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-crosshairs fa-lg"></i></div>
                                                    {{ form_candidate_contact.city }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- State and City -->

                                    <div class="row">
                                        <!-- Tel local -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.phone.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.phone.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_phone">{% trans 'Local 10 digit phone' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.phone.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-phone fa-lg"></i></div>
                                                    {{ form_candidate_contact.phone }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Celular -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.cellphone.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.cellphone.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_cellphone">{% trans '10-digit call phone' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.cellphone.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-mobile-phone fa-lg"></i></div>
                                                    {{ form_candidate_contact.cellphone }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- Tel. local and celular -->

                                    <div class="row mt15">
                                        <div class="col-md-12">
                                            <h6 style="font-style: italic">
                                                <strong>
                                                    {% trans 'Remember that you are your own brand. Register your social networks and let companies kno that you are the bestchoice.' %}...
                                                </strong>
                                            </h6>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <!-- Linkedin -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.linkedin.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.linkedin.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_linkedin">{% trans 'LinkedIn' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.linkedin.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-linkedin fa-lg"></i></div>
                                                    {{ form_candidate_contact.linkedin }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Facebook -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.facebook.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.facebook.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_facebook">{% trans 'Facebook' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.facebook.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-facebook fa-lg"></i></div>
                                                    {{ form_candidate_contact.facebook }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- LinkedIn and Facebook -->

                                    <div class="row">
                                        <!-- Twitter -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.twitter.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.twitter.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_twitter">{% trans 'Twitter' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.twitter.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-at fa-lg"></i></div>
                                                    {{ form_candidate_contact.twitter }}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Google+ -->
                                        <div class="col-md-6 col-sm-6 col-xs-6">
                                            <div class="form-group">
                                                {% if form_candidate_contact.google.errors %}
                                                    <ul class="list-unstyled error-list">
                                                    {% for error in form_candidate_contact.google.errors %}
                                                        <li>{{ error|escape }}</li>
                                                    {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_google">{% trans 'Google+' %}</label>
                                                {% endif %}
                                                <div class="input-group input-group-sm {% if form_candidate_contact.google.errors %}has-error{% endif %}">
                                                    <div class="input-group-addon"><i class="fa fa-google fa-lg"></i></div>
                                                    {{ form_candidate_contact.google }}
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- Twitter and Google+ -->

                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> {% trans 'Save and Update' %}</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#contact-section" data-toggle="collapse" data-target=".contact" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10 text-muted" id="objective-section">
                    
                    <div class="row objective-skills collapse fade in">
                        <div class="col-xs-12 text-center no-padding">
                            <h3 class="text-light text-center">Objective and Skills</h3>
                            <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".objective-skills"><i class="fa fa-pencil"></i> Update</a></span></h6>  
                            <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                <div class="row">
                                    <p class="lead text-muted"><i class="fa fa-quote-left"></i> <span id="profile_objective">Objective</span> <i class="fa fa-quote-right"></i></p>
                                </div>
                                <div class="row text-center" id="profile_skills">
                                    <div class="col-md-4 mb10">
                                        <i class="material-icons">label</i> <span class="va-top">Skills</span>
                                    </div>
                                </div>
                            </div>
                        </div>     
                    </div>
                    <div class="row objective-skills collapse fade">
                        <div class="col-xs-12 no-padding">
                            <form id="objective-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {%csrf_token%}
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="text-light text-center">{% trans 'Objectives and Skills' %}</h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                    <div class="row">
                	                    <!-- Professional Objective -->
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="id_objective">{% trans 'Share your objectives' %}<span class="required">*</span></label>
                                                {{ form_objective.objective }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                	                    <!-- Professional Skills -->
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="id_skills">{% trans 'Share your skills' %}<span class="required">*</span></label>
                                                {{ form_objective.skills }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> {% trans 'Save and Update' %}</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#objective-section" data-toggle="collapse" data-target=".objective-skills" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="experience-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light mt10 text-center">{% trans 'Experience' %}</h3>
                                <h6 class="text-center"><span class=""><a class="form-add add_experience_form clickable"><i class="fa fa-plus"></i> Add New</a></span></h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Experience</div>
                            </div>
                            <div class="row experience-form-0 collapse fade" id="experience_form">
                                <form id="experience-form-0" enctype="multiart/form-data" action="." method="post" role="form" class="">
                                    {%csrf_token%}
                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                        <div class="row">
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_company">Company<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-building"></i></div>
                                                        {{form_experience.company }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_industry">Industry<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-gears"></i></div>
                                                        {{form_experience.industry }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_employment">Position Held<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-briefcase"></i></div>
                                                        {{form_experience.employment }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_country">Country<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-globe"></i></div>
                                                        {{form_experience.country }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_state">State</label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-paper-plane"></i></div>
                                                        {{form_experience.state }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_city">City</label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-map-marker"></i></div>
                                                        {{ form_experience.city }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 col-xs-12">
                                                <dl class="dl-horizontal">
                                                    <dt style="text-align: left">
                                                        <label for="id_present">{% trans 'Current Job?' %}</label>
                                                    </dt>
                                                    <dd style="margin-left: -10px">
                                                        <label id="sliderLabel">
                                                            {{ form_experience.present }} Yes
                                                        </label>
                                                    </dd>
                                                </dl>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_startdate">Start Date<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-calendar"></i></div>
                                                        {{ form_experience.start_date}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_enddate">End Date</label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-lg fa-calendar"></i></div>
                                                        {{ form_experience.end_date }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_tasks">Description<span class="required">*</span></label>
                                                    <div>{{form_experience.tasks}}</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt20 button-row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                                                    <i class="fa fa-check-circle fa-lg"> </i>
                                                    Save and Update
                                                </button>
                                                <a class="btn btn-default btn-sm btn-block form-destruct" href="#experience-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="academic-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light text-center">{% trans 'Education' %}</h3>
                                <h6 class="text-center"><span>
                                    
                                    <a class="form-add clickable add_academic_form"><i class="fa fa-plus"></i> Add New</a>
                                </span></h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Education</div>
                            </div>
                            <div class="row academic-form-0 collapse fade" id="academic_form">
                                <form id="academic-form-0" enctype="multipart/form-data" method="post" role="form" class="" >
                                    {% csrf_token %}
                                    <!-- Personal data -->

                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                        <div class="row">
                                            <!-- Institution -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_school">{% trans 'Institution' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm {% if form_academic.school.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-institution fa-lg"></i></div>
                                                        {{ form_academic.school }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Level of Study -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_degree">{% trans 'Level of study' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm {% if form_academic.degree.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-mortar-board fa-lg"></i></div>
                                                        {{ form_academic.degree }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- Name of Institution and Level of Study-->
                                    
                                        <div class="row">
                                            <!-- Location -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_course_name">{% trans 'Course Name' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm {% if form_academic.country.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-globe fa-lg"></i></div>
                                                        {{ form_academic.course_name }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Status -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_status">{% trans 'Status' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm {% if form_academic.status.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-check-square-o fa-lg"></i></div>
                                                        {{ form_academic.status }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- Level and Status -->

                                        <div id="area-career-row" class="row">
                                            <!-- Area -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_area">{% trans 'Area of Specialisation' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm {% if form_academic.area.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-cubes fa-lg"></i></div>
                                                        {{ form_academic.area }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Country -->
                                                <div class="col-md-6 col-sm-6 col-xs-6">
                                                    <div class="form-group">
                                                        <label for="id_country">{% trans 'Country' %}<span class="required">*</span></label>
                                                        <div class="input-group input-group-sm {% if form_academic.country.errors %}has-error{% endif %}">
                                                            <div class="input-group-addon"><i class="fa fa-globe fa-lg"></i></div>
                                                            {{ form_academic.country }}
                                                        </div>
                                                    </div>
                                                </div>
                                        </div><!-- Level and Status -->

                                        <div id="other-career" class="row hidden">
                                            <!-- name of the career - If not mentioned above -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    {% if form_academic.other.errors %}
                                                        <ul class="list-unstyled error-list">
                                                        {% for error in form_academic.other.errors %}
                                                            <li>{{ error|escape }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <label for="id_other">{% trans 'Name of the career' %}<span class="required">*</span></label>
                                                    {% endif %}
                                                    <div class="input-group input-group-sm {% if form_academic.other.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-tag fa-lg"></i></div>
                                                        {{ form_academic.other }}<input class="form-control" type="text">
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- Name of the career -->

                	                    <div class="row">
                                            <!-- State and City -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    {% if form_academic.state.errors %}
                                                        <ul class="list-unstyled error-list">
                                                        {% for error in form_academic.state.errors %}
                                                            <li>{{ error|escape }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <label for="id_state">{% trans 'Name of the State' %}</label>
                                                    {% endif %}
                                                    <div class="input-group input-group-sm {% if form_academic.state.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-tag fa-lg"></i></div>
                                                        {{ form_academic.state }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!--City-->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    {% if form_academic.city.errors %}
                                                        <ul class="list-unstyled error-list">
                                                        {% for error in form_academic.city.errors %}
                                                            <li>{{ error|escape }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <label for="id_city">{% trans 'Name of the City' %}</label>
                                                    {% endif %}
                                                    <div class="input-group input-group-sm {% if form_academic.city.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-tag fa-lg"></i></div>
                                                        {{ form_academic.city }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- Name of the career -->

                                        <div class="row">
                                            <!-- Date of Admission-->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    {% if form_academic.start_date.errors %}
                                                        <ul class="list-unstyled error-list">
                                                        {% for error in form_academic.start_date.errors %}
                                                            <li>{{ error|escape }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <label for="id_start_date">{% trans 'Date of Admission' %}<span class="required">*</span></label>
                                                    {% endif %}
                                                    <div class="input-group input-group-sm {% if form_academic.start_date.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-calendar fa-lg"></i></div>
                                                        {{ form_academic.start_date }}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Passing date -->
                                            <div id="end-date" class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    {% if form_academic.end_date.errors %}
                                                        <ul class="list-unstyled error-list">
                                                        {% for error in form_academic.end_date.errors %}
                                                            <li>{{ error|escape }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <label for="id_end_date">{% trans 'Passing Date' %}<span class="required">*</span></label>
                                                    {% endif %}
                                                    <div class="input-group input-group-sm {% if form_academic.end_date.errors %}has-error{% endif %}">
                                                        <div class="input-group-addon"><i class="fa fa-calendar fa-lg"></i></div>
                                                        {{ form_academic.end_date }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- Date of Joining and Passing -->

                                        <div class="row mt20 button-row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                                                    <i class="fa fa-check-circle fa-lg"> </i>
                                                    Save and Update
                                                </button>
                                                <a class="btn btn-default btn-sm btn-block form-destruct" href="#academic-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="training-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light text-center mt10">
                                Trainings
                                </h3>
                                <h6 class="text-center">
                                    <span>
                                        <a class="form-add clickable add_training_form"><i class="fa fa-plus"></i> Add New</a>
                                    </span>
                                </h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Training</div>
                            </div>
                            <div class="row training-form-0 collapse fade" id="training_form">
                                <form id="training-form-0" enctype="multipart/form-data" action="." method="post" role="form" class="">
                                    {% csrf_token %}
                                    <!-- Training Data -->
                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                        <div class="row">
                                            <!-- Name -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_name">{% trans 'Training Name' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-certificate fa-lg"></i></div>
                                                        {{ form_training.name }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Description -->
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="id_description">{% trans 'Description' %}<span class="required">*</span></label>
                                                    {{ form_training.description }}
                                                </div>
                                            </div>           
                                        </div><!-- Training Name and Description-->
                                        <div class="row mt20 button-row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                                                    <i class="fa fa-check-circle fa-lg"> </i>
                                                    Save and Update
                                                </button>
                	                            <a class="btn btn-default btn-sm btn-block form-destruct" href="#training-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div> 
                        </div>
                    </div> 
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="certificate-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light text-center mt10">
                                Certifications
                                </h3>
                                <h6 class="text-center">
                                    <span>
                                        <a class="form-add clickable add_certificate_form"><i class="fa fa-plus"></i> Add New</a>
                                    </span>
                                </h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Certificate</div>
                            </div>
                            <div class="row certificate-form-0 collapse fade" id="certificate_form">
                                <form id="certificate-form-0" enctype="multipart/form-data" action="." method="post" role="form" class="">
                                    {% csrf_token %}
                                    <!-- Certification Data -->
                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                        <div class="row">
                                            <!-- Name -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_name">{% trans 'Certification Name' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-certificate fa-lg"></i></div>
                                                        {{ form_certificate.name }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Description -->
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="id_description">{% trans 'Description' %}<span class="required">*</span></label>
                                                    {{ form_certificate.description }}
                                                </div>
                                            </div>
                                        </div><!-- Certification Name and Description-->
                                        <div class="row mt20 button-row">
                	                        <div class="col-md-12">
                	                            <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                	                                <i class="fa fa-check-circle fa-lg"> </i>
                	                                Save and Update
                	                            </button>
                	                            <a class="btn btn-default btn-sm btn-block form-destruct" href="#certificate-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                	                        </div>
                	                    </div>
            	                    </div>
                                </form>
                            </div>
                        </div>
                    </div> 
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="project-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light text-center mt10">
                                Projects
                                </h3>
                                <h6 class="text-center">
                                    <span>
                                        <a class="form-add clickable add_project_form"><i class="fa fa-plus"></i> Add New</a>
                                    </span>
                                </h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Project</div>
                            </div>
                            <div class="row project-form-0 collapse fade" id="project_form">
                                <form id="project-form-0" enctype="multipart/form-data" action="." method="post" role="form" class="">
                                    {% csrf_token %}
                                    <!-- Project Data -->
                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">

                                        <div class="row">
                                            <!-- Name -->
                                            <div class="col-md-6 col-sm-6 col-xs-6">
                                                <div class="form-group">
                                                    <label for="id_name">{% trans 'Project Name' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-certificate fa-lg"></i></div>
                                                        {{ form_project.name }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Description -->
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="id_description">{% trans 'Description' %}<span class="required">*</span></label>
                                                    {{ form_project.description }}
                                                </div>
                                            </div>
                                        </div><!-- Project Name and Description-->
                                        <div class="row mt20 button-row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                                                    <i class="fa fa-check-circle fa-lg"> </i>
                                                    Save and Update
                                                </button>
                	                            <a class="btn btn-default btn-sm btn-block form-destruct" href="#project-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div> 
                        </div>
                    </div> 
                </section>
                <section class="container-fluid pt40 pl20 pr20 ml10 mr10" id="language-section">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row border-bottom border-white">
                                <h3 class="text-light text-center mt10">
                                Languages
                                </h3>
                                <h6 class="text-center">
                                    <span>
                                        <a class="form-add clickable add_language_form"><i class="fa fa-plus"></i> Add New</a>
                                    </span>
                                </h6>
                            </div>
                            <div class="row no-card collapse fade in">
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light">No Language</div>
                            </div>
                            <div class="row language-form-0 collapse fade" id="language_form">
                                <form id="language-form-0" enctype="multipart/form-data" action="." method="post" role="form" class="">
                                    {% csrf_token %}
                                    <!-- Language Data -->
                                    <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                        <div class="row">
                                            <!-- Name -->
                                            <div class="col-md-6 col-xs-12">
                                                <div class="form-group">
                                                    <label for="id_language">{% trans 'Language Name' %}<span class="required">*</span></label>
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-addon"><i class="fa fa-globe fa-lg"></i></div>
                                                        {{ form_language.language }}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Read -->
                                            <div class="col-xs-4 col-md-2 pt20 pb20 text-center">
                                            	<div class="form_group pt10">
                                            		<label for="id_read">Can Read? {{form_language.read}}</label>
                                            	</div>
                                            </div>
                                            <!-- Write -->
                                            <div class="col-xs-4 col-md-2 pt20 pb20 text-center">
                                            	<div class="form_group pt10">
                                            		<label for="id_write">Can Write? {{form_language.write}}</label>
                                            	</div>
                                            </div>
                                            <!-- Speak -->
                                            <div class="col-xs-4 col-md-2 pt20 pb20 text-center">
                                            	<div class="form_group pt10">
                                            		<label for="id_speak">Can Speak? {{form_language.speak}}</label>
                                            	</div>
                                            </div>
                                        </div><!-- Language Name and Description-->
                                        <div class="row mt20 button-row">
                	                        <div class="col-md-12">
                	                            <button type="submit" class="btn btn-info btn-sm btn-block no-br">
                	                                <i class="fa fa-check-circle fa-lg"> </i>
                	                                Save and Update
                	                            </button>
                	                            <a class="btn btn-default btn-sm btn-block form-destruct" href="#language-section" style="margin-right: 10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> {% trans 'Cancel' %}</a>
                	                        </div>
                	                    </div>
            	                    </div>
                                </form>
                            </div> 
                        </div>
                    </div> 
                </section>
                <section class="container-fluid mt40 text-muted " id="interests-section">
                    <div class="row interests collapse fade in">
                        <div class="col-md-12">
                            <h3 class="text-light text-center mt10">Interests</h3>
                            <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".interests"><i class="fa fa-pencil"></i> Update</a></span></h6>
                            <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pl20 pr20 text-muted" id="profile_interests">{{candidate.interests|default:'No Interests'}}</div>
                        </div>
                    </div>
                    <div class="row interests collapse fade">
                        <div class="col-md-12">
                            <form id="interests-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="text-light text-center mt10"> Interests </h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                {% if form_interests.interests.errors %}
                                                    <ul class="list-unstyled error-list">
                                                        {% for error in form_interests.interests.errors %}
                                                            <li>{{error|escape}}</li>
                                                        {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_interests">Share your Interests</label>
                                                {% endif %}
                                                <div class="{% if form_interests.interests.errors %}has-error{%endif%}">
                                                    {{form_interests.interests}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> Save and Update</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#interests-section" data-toggle="collapse" data-target=".interests" style="margin-right:10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> Cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 text-muted " id="hobbies-section">
                    <div class="row hobbies collapse fade in">
                        <div class="col-md-12">
                            <h3 class="text-light text-center mt10">hobbies</h3>
                            <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".hobbies"><i class="fa fa-pencil"></i> Update</a></span></h6>
                            <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light" id="profile_hobbies">{{candidate.hobbies|default:'No hobbies'}}</div>
                        </div>
                    </div>
                    <div class="row hobbies collapse fade">
                        <div class="col-md-12">
                            <form id="hobbies-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="text-light text-center mt10"> Hobbies </h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                {% if form_hobbies.hobbies.errors %}
                                                    <ul class="list-unstyled error-list">
                                                        {% for error in form_hobbies.hobbies.errors %}
                                                            <li>{{error|escape}}</li>
                                                        {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_hobbies">Share your Hobbies</label>
                                                {% endif %}
                                                <div class="{% if form_hobbies.hobbies.errors %}has-error{%endif%}">
                                                    {{form_hobbies.hobbies}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> Save and Update</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#hobbies-section" data-toggle="collapse" data-target=".hobbies" style="margin-right:10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> Cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 text-muted " id="extra-curriculars-section">
                    <div class="row extra_curriculars collapse fade in">
                        <div class="col-md-12">
                            <h3 class="text-light text-center mt10">Extra Curriculars</h3>
                            <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".extra_curriculars"><i class="fa fa-pencil"></i> Update</a></span></h6>
                            <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light" id="profile_extra_curriculars">{{candidate.extra_curriculars|default:'No extra_curriculars'}}</div>
                        </div>
                    </div>
                    <div class="row extra_curriculars collapse fade">
                        <div class="col-md-12">
                            <form id="extra_curriculars-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="text-light text-center mt10"> Extra Curriculars </h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                {% if form_extra_curriculars.extra_curriculars.errors %}
                                                    <ul class="list-unstyled error-list">
                                                        {% for error in form_extra_curriculars.extra_curriculars.errors %}
                                                            <li>{{error|escape}}</li>
                                                        {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_extra_curriculars">Share your Extra Curriculars</label>
                                                {% endif %}
                                                <div class="{% if form_extra_curriculars.extra_curriculars.errors %}has-error{%endif%}">
                                                    {{form_extra_curriculars.extra_curriculars}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> Save and Update</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#extra-curriculars-section" data-toggle="collapse" data-target=".extra_curriculars" style="margin-right:10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> Cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid pt40 text-muted " id="others-section">
                    <div class="row others collapse fade in">
                        <div class="col-md-12">
                            <h3 class="text-light text-center mt10">Others</h3>
                            <h6 class="text-center"><span><a class="clickable" data-toggle="collapse" data-target=".others"><i class="fa fa-pencil"></i> Update</a></span></h6>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20 text-light" id="profile_others">{{candidate.others|default:'No others'}}</div>
                        </div>
                    </div>
                    <div class="row others collapse fade">
                        <div class="col-md-12">
                            <form id="others-form" enctype="multipart/form-data" action="." method="post" role="form" class="mt10">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="text-light text-center mt10"> Others </h3>
                                    </div>
                                </div>
                                <div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                {% if form_others.others.errors %}
                                                    <ul class="list-unstyled error-list">
                                                        {% for error in form_others.others.errors %}
                                                            <li>{{error|escape}}</li>
                                                        {% endfor %}
                                                    </ul>
                                                {% else %}
                                                    <label for="id_others">Anything else you would like to share</label>
                                                {% endif %}
                                                <div class="{% if form_others.others.errors %}has-error{%endif%}">
                                                    {{form_others.others}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt20 button-row">
                                        <div class="col-md-12">
                                            <button class="btn btn-info btn-sm btn-block"><i class="fa fa-check-circle fa-lg"></i> Save and Update</button>
                                            <a class="btn btn-default btn-sm btn-block" href="#others-section" data-toggle="collapse" data-target=".others" style="margin-right:10px;"><i class="fa fa-chevron-circle-left fa-lg"></i> Cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="container-fluid mt40 mb40 ">
                	<div class="col-xs-12">
            		    <button class="btn btn-lg btn-block btn-info" id="generate_public_cv">Generate Resume</button>
            	    </div>
                </section>
            </div>
        </div>
    </div>
	<!--Content Ends-->
{% endblock %}
{% block java_script_srcs %}
    <script src="{{STATIC_URL}}datepicker/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}ckeditor/ckeditor/ckeditor.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}ckeditor/ckeditor-init.js"></script>
{% endblock %}
{% block java_script_code %}
	<script>
        $(document).ready(function(){
            $('#spysection').scrollspy();
            // location.hash= "#"
        })
        var experience_id = 0;
        var academic_id = 0;
        var training_id = 0;
        var project_id = 0;
        var certificate_id = 0;
        var language_id = 0;
        String.prototype.splice = function(idx, rem, str) {
            return this.slice(0, idx) + str + this.slice(idx + Math.abs(rem));
        };
            var dpicker = {
                format: "yyyy-mm-dd",
                startView: 1,
                minViewMode: 3,
                language: "en",
                autoclose: true
            };
        var academic_status_change = function(){
            $this = $(this);
            $form = $this.parents('form');
            if($this.val() == 5) {
                $form.find('#id_end_date').parents('.form-group').hide();
            }
            else {
                $form.find('#id_end_date').parents('.form-group').show();
            }
        }
        $(document).ready(function () {
            $('#id_birthday').datepicker({
                    format: "yyyy-mm-dd",
                    startView: 2,
                    minViewMode: 3,
                    language: "en",
                    autoclose: true,
                    startDate: '-60y',
                    endDate: '-18y'
            });
            $('#id_public_photo').change(function(){
                console.log('image changed');
                 if(this.files && this.files[0]) {
                    // var file = e.originalEvent.srcElement.files[i];
                    var img = $('img.user-photo');
                    console.log(img);
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        console.log(img.attr('src'))
                         img.attr('src',e.target.result);
                         console.log(reader.result)
                         console.log(img.attr('src'))
                    }
                    reader.readAsDataURL(this.files[0]);
                    // $("input").after(img);
                }
            })
	        $('#id_skills').selectize({create:true});
	        function removeCard(_this){
	        	$this = $(_this);
                $section = $this.parents('section');
	        	cardclass = $this.attr('data-card');
	        	console.log($this)
	        	console.log(cardclass)
                if($(cardclass).parent().find(''))
	        	$(cardclass).remove();
                checkforsurvivors($section);
                // if $()
	        }
            // {% if fileForm.file.errors %}
            //      $('#post-cv-modal').modal();
            // {% endif %}

            /* VLIDATING FORM */

	            //PERSONAL 

			        $('form#candidate-form').on('submit', function(e){
			            e.preventDefault();
			            $this = $(this);
			            
			            // Clear Error Highlights before submission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $(this).serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');

	                    // Send Ajax request
			            $.ajax({
			                url : "/ajax/validate_personal_form/",
			                type: 'post',
			                data: formdata,
			                complete: function(data){
			                	//Revert buttons back to original
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                	// Handle Success
			                	console.log(data)
                                alert(data.msg);
			                    if (data.success == true){
			                    	// Hide form and show details
			                        $('.personal-profile').collapse('toggle');
			                        // Update each field
			                        $('#profile_name').html($('#id_first_name').val() + ' ' + $('#id_last_name').val());
                                    $('#profile_email').html($('#id_public_email').val());
                                    if($('#id_birthday').val()){
                                        $('#profile_birthday').html(toreadabledate($('#id_birthday').val()));
                                        $('#profile_birthday').parent().removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_birthday').html('Not Provided');
                                        $('#profile_birthday').parent().addClass('hidden');                                    
                                    }
			                        if($('#id_gender').val()){
			                            $('#profile_gender').html($('#id_gender option:selected').text())
			                        }
			                        if($('#id_maritalStatus').val()){
			                            $('#profile_marital_status').html($('#id_maritalStatus option:selected').text())
			                        }
			                        window.location.hash = '#profile';
			                    }
			                    else{ 
			                    	//Handle Errors
			                    	// Show errors for all fields available
                                    if ('first_name' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_first_name]');
                                        console.log(data.errors.first_name)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_first_name').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.first_name).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('public_email' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_public_email]');
                                        console.log(data.errors.public_email)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_public_email').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.public_email).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
		                    		if ('last_name' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_last_name]');
			                            console.log(data.errors.last_name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_last_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.last_name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
		                    		if ('gender' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_gender]');
			                            console.log(data.errors.gender)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_gender').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.gender).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
		                    		if ('birthday' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_birthday]');
			                            console.log(data.errors.birthday)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_birthday').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.birthday).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
		                    		if ('maritalStatus' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_maritalStatus]');
			                            console.log(data.errors.maritalStatus)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_maritalStatus').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.maritalStatus).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }
			                },  
			                error: function(e){
			                    //Log the serious Issue
			                    console.log(e);
			                }
			            });
			            return false;
			        });

                //Contact

                    $('form#contact-form').submit(function(e){
                        e.preventDefault();
                        $this = $(this);

                        // Clear Error Highlights before submission
                        $this.find('.error-list').remove();
                        $this.find('.has-error').removeClass('has-error');

                        //Parse data for submission
                        var formdata = $(this).serializeArray();
                        formdata.push({'name':'isPublic','value':true})

                        //Disable buttons
                        $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg"></i> Please Wait').prop('disabled',true).addClass('disabled');

                        //Send Ajax Request
                        $.ajax({
                            url : "/ajax/validate_contact_form/",
                            type: 'post',
                            data: formdata,
                            complete: function(data){
                                //Revert buttons back to original
                                $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
                                $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
                                $this.find('.btn').prop('disabled',false);
                                $this.find('.btn').removeClass('disabled');
                            },
                            success: function(data){
                                console.log(data);
                                if (data.success == true){
                                    //Hide form and show details
                                    $('.contact').collapse('toggle');
                                    //Update each field
                                    if($('#id_city').val() || $('#id_state').val() || $('#id_nationality').val()){
                                        $('#profile_address').html($('#id_city').val() + ', ' + $('#id_state').val()  + ', ' + $('#id_nationality option:selected').text());
                                        $('#profile_address').parent().removeClass('hidden');                                   
                                    }
                                    else {
                                        $('#profile_address').parent().addClass('hidden');                                  
                                    }
                                    if($('#id_phone').val()){                        
                                        $('#profile_phone').html(' ' + $('#id_phone').val().replace('-','').splice(3,0,'-').splice(7,0,'-'));
                                        $('#profile_phone').parent().removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_phone').parent().addClass('hidden');
                                    }
                                    if($('#id_cellphone').val()){
                                        $('#profile_cellphone').html(' ' +$('#id_cellphone').val().replace('-','').splice(3,0,'-').splice(7,0,'-'));
                                        $('#profile_cellphone').parent().removeClass('hidden');               
                                    }
                                    else {
                                        $('#profile_cellphone').parent().addClass('hidden');
                                    }
                                    if($('#id_twitter').val()){
                                        $('#profile_twitter').attr('href','http://twitter.com/'+$('#id_twitter').val().replace('@',''));
                                        $('#profile_twitter').removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_twitter').addClass('hidden');
                                    }
                                    if($('#id_facebook').val()){
                                        $('#profile_facebook').attr('href',$('#id_facebook').val());
                                        $('#profile_facebook').removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_facebook').addClass('hidden');
                                    }
                                    if($('#id_linkedin').val()){
                                        $('#profile_linkedin').attr('href',$('#id_linkedin').val());
                                        $('#profile_linkedin').removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_linkedin').addClass('hidden');
                                    }
                                    if($('#id_google').val()){
                                        $('#profile_google').attr('href',$('#id_google').val());
                                        $('#profile_google').removeClass('hidden');
                                    }
                                    else {
                                        $('#profile_google').addClass('hidden');
                                    }
                                    // $('#profile_image')
                                    window.location.hash = '#contact-section';
                                }
                                else{ 
                                    //Handle Errors
                                    // Show errors for all fields available
                                    if ('nationality' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_nationality]');
                                        console.log(data.errors.nationality)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_nationality').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.nationality).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('state' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_state]');
                                        console.log(data.errors.state)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_state').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.state).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('city' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_city]');
                                        console.log(data.errors.city)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_city').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.city).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('phone' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_phone]');
                                        console.log(data.errors.phone)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_phone').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.phone).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('cellphone' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_cellphone]');
                                        console.log(data.errors.cellphone)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_cellphone').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.cellphone).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('linkedin' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_linkedin]');
                                        console.log(data.errors.linkedin)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_linkedin').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.linkedin).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('facebook' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_facebook]');
                                        console.log(data.errors.facebook)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_facebook').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.facebook).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('twitter' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_twitter]');
                                        console.log(data.errors.twitter)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_twitter').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.twitter).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                    if ('google' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_google]');
                                        console.log(data.errors.google)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_google').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.google).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }
                                }
                            },  
                            error: function(e){
                                console.log(e);
                            }
                        });
                        return false;
                    });
				
				//OBJECTIVE

			        $('form#objective-form').submit(function(e){
			            e.preventDefault();
			        	$this = $(this)

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $(this).serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');

	                    // Send Ajax request
			            $.ajax({
			                url: '/ajax/validate_objective_form/',
			                type:'post',
			                data:formdata,
			                complete: function(){
			                	$this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                	$this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel')
			                	$this.find('.btn').prop('disabled',false);
			                	$this.find('.btn').removeClass('disabled'); 
			                },
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                    	// Hide form and show details
			                    	$('.objective-skills').collapse('toggle');
			                    	// Update each field
			                    	$('#profile_objective').html($('#id_objective').val());
			                    	skills = $('#id_skills').val().split(',');
			                    	$('#profile_skills').html('');
			                    	$(skills).each(function(k,el){
			                    		html  = '<div class="col-md-4 mb10"><i class="material-icons">label</i> <span class="va-top">'+el+'</span></div>';
			                    		$('#profile_skills').append(html);
			                    	});
                                    window.location.hash = "#objective-section";
			                    }
			                    else {
			                    	//show errors
		                    		if ('objective' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_objective]');
			                            console.log(data.errors.objective)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_objective').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.objective).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
		                    		if ('skills' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_skills]');
			                            console.log(data.errors.skills)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_skills').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.skills).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            })
			            return false;
			        });

                //Interests
                    $('form#interests-form').submit(function(e){
                        e.preventDefault();
                        $this = $(this);
                        //Clear Error Highlights before Submisison
                        $this.find('.error-list').remove();
                        $this.find('.has-error').removeClass('has-error');
                        //Parse data for submission
                        var formdata = $(this).serializeArray();
                        formdata.push({'name':'isPublic','value':true})
                        formdata[1].value = CKEDITOR.instances['id_interests'].getData();
                        //Disable buttons
                        $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg"></i> Please Wait').prop('disabled',true).removeClass('disabled');
                        //Send Ajax Request
                        $.ajax({
                            url: '/ajax/validate_interests_form/',
                            type: 'post',
                            data: formdata,
                            complete: function(){
                                $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
                                $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
                                $this.find('.btn').prop('disabled',false).removeClass('disabled');
                            },
                            success: function(data){
                                console.log(data);
                                if(data.success == true){
                                    // Hide form and show details
                                    $('.interests').collapse('toggle');
                                    // Update each field
                                    $('#profile_interests').html($('#id_interests').val());
                                    window.location.hash = "#interests-section";
                                }
                                else {
                                    //show errors
                                    if ('interests' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_interests]');
                                        console.log(data.errors.interests)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_interests').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.interests).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }

                                }
                            },
                            error: function(e){
                                console.log(e);
                            }
                        });
                        return false; 
                    });

                //Hobbies
                    $('form#hobbies-form').submit(function(e){
                        e.preventDefault();
                        $this = $(this);
                        //Clear Error Highlights before Submisison
                        $this.find('.error-list').remove();
                        $this.find('.has-error').removeClass('has-error');
                        //Parse data for submission
                        var formdata = $(this).serializeArray();
                        formdata.push({'name':'isPublic','value':true})
                        formdata[1].value = CKEDITOR.instances['id_hobbies'].getData();
                        //Disable buttons
                        $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg"></i> Please Wait').prop('disabled',true).removeClass('disabled');
                        //Send Ajax Request
                        $.ajax({
                            url: '/ajax/validate_hobbies_form/',
                            type: 'post',
                            data: formdata,
                            complete: function(){
                                $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
                                $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
                                $this.find('.btn').prop('disabled',false).removeClass('disabled');
                            },
                            success: function(data){
                                console.log(data);
                                if(data.success == true){
                                    // Hide form and show details
                                    $('.hobbies').collapse('toggle');
                                    // Update each field
                                    $('#profile_hobbies').html($('#id_hobbies').val());
                                    window.location.hash = "#hobbies-section";
                                }
                                else {
                                    //show errors
                                    if ('hobbies' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_hobbies]');
                                        console.log(data.errors.hobbies)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_hobbies').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.hobbies).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }

                                }
                            },
                            error: function(e){
                                console.log(e);
                            }
                        });
                        return false; 
                    });

                //Extra_curriculars
                    $('form#extra_curriculars-form').submit(function(e){
                        e.preventDefault();
                        $this = $(this);
                        //Clear Error Highlights before Submisison
                        $this.find('.error-list').remove();
                        $this.find('.has-error').removeClass('has-error');
                        //Parse data for submission
                        var formdata = $(this).serializeArray();
                        formdata.push({'name':'isPublic','value':true})
                        formdata[1].value = CKEDITOR.instances['id_extra_curriculars'].getData();
                        //Disable buttons
                        $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg"></i> Please Wait').prop('disabled',true).removeClass('disabled');
                        //Send Ajax Request
                        $.ajax({
                            url: '/ajax/validate_extra_curriculars_form/',
                            type: 'post',
                            data: formdata,
                            complete: function(){
                                $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
                                $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
                                $this.find('.btn').prop('disabled',false).removeClass('disabled');
                            },
                            success: function(data){
                                console.log(data);
                                if(data.success == true){
                                    // Hide form and show details
                                    $('.extra_curriculars').collapse('toggle');
                                    // Update each field
                                    $('#profile_extra_curriculars').html($('#id_extra_curriculars').val());
                                    window.location.hash = "#extra-curriculars-section";
                                }
                                else {
                                    //show errors
                                    if ('extra_curriculars' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_extra_curriculars]');
                                        console.log(data.errors.extra_curriculars)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_extra_curriculars').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.extra_curriculars).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }

                                }
                            },
                            error: function(e){
                                console.log(e);
                            }
                        });
                        return false; 
                    });

                //Others
                    $('form#others-form').submit(function(e){
                        e.preventDefault();
                        $this = $(this);
                        //Clear Error Highlights before Submisison
                        $this.find('.error-list').remove();
                        $this.find('.has-error').removeClass('has-error');
                        //Parse data for submission
                        var formdata = $(this).serializeArray();
                        formdata.push({'name':'isPublic','value':true})
                        formdata[1].value = CKEDITOR.instances['id_others'].getData();
                        //Disable buttons
                        $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg"></i> Please Wait').prop('disabled',true).removeClass('disabled');
                        //Send Ajax Request
                        $.ajax({
                            url: '/ajax/validate_others_form/',
                            type: 'post',
                            data: formdata,
                            complete: function(){
                                $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
                                $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
                                $this.find('.btn').prop('disabled',false).removeClass('disabled');
                            },
                            success: function(data){
                                console.log(data);
                                if(data.success == true){
                                    // Hide form and show details
                                    $('.others').collapse('toggle');
                                    // Update each field
                                    $('#profile_others').html($('#id_others').val());
                                    window.location.hash = "#others-section";
                                }
                                else {
                                    //show errors
                                    if ('others' in data.errors)
                                    {
                                        html = "<ul class = 'error-list text-danger'></ul>"
                                        label = $this.find('[for=id_others]');
                                        console.log(data.errors.others)
                                        $elist = $(html).insertAfter($(label).next());
                                        $this.find('#id_others').parents('.form-group').addClass('has-error')
                                        console.log($elist)
                                        $(data.errors.others).each(function(k,v){
                                            $elist.append('<li>'+v+'</li>');
                                            // $this.find(
                                        });
                                    }

                                }
                            },
                            error: function(e){
                                console.log(e);
                            }
                        });
                        return false; 
                    });

		        //EXPERIENCE

					function update_experience(_this,e){
			            $this = $(_this);
			            // alert('submitting');
			            e.preventDefault();

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $this.serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');
	                    id = $this.data('id');
	                    if(!id){
	                    	id=0;
	                    }

	                    // Send Ajax request
			            $.ajax({
			                url:'/ajax/validate_experience_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.experience-form-'+id
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            $row.find('.experience_company').html($this.find('#id_company').val());
			                            $row.find('.experience_industry').html($this.find('#id_industry option:selected').text());
			                            $row.find('.experience_employment').html($this.find('#id_employment').val());
			                            $row.find('.experience_tasks').html($this.find('#id_tasks').val());
			                            city = $this.find('#id_city').val()
			                            state = $this.find('#id_state').val()
			                            address=""
			                            if(city){
			                                address = city + ', ';
			                            }
			                            if(state){
			                                address += state + ', ';
			                            }
			                            $row.find('.experience_location').html(address + $this.find('#id_country option:selected').text())
			                            startdate = toreadabledate($this.find('#id_start_date').val());
			                            endddate = toreadabledate($this.find('#id_end_date').val());
			                            if ($this.find('#id_present')[0].checked) {
			                                enddate = "Current Job";
			                            }
			                            $row.find('.experience_date').html(startdate + ' - ' + enddate);
			                        }
			                        else {
			                        	experience_id++;
			                            // q='.experience-form-0:not(';
			                            // $(q).collapse('toggle');
			                            // $this = $(q);
			                            city = $this.find('#id_city').val()
			                            state = $this.find('#id_state').val()
			                            address=""
			                            if(city){
			                                address = city + ', ';
			                            }
			                            if(state){
			                                address += state + ', ';
			                            }
			                            startdate = toreadabledate($this.find('#id_start_date').val());
			                            enddate = toreadabledate($this.find('#id_end_date').val());
			                            if ($this.find('#id_present')[0].checked) {
			                                enddate = "Current Job";
			                            }
			                            // var removefunction = "remove_experience('"+$this.find('#id_employment').val()+"', '"+data.del_url+"')";
			                            // removefunction = '<a href type="button" data-toggle="modal" data-target="#del-experience-modal" onclick="'+removefunction+'">'+ ' Remove';
			                            // console.log(removefunction)
			                            html = '<div class="row experience-form-'+experience_id+' collapse fade in">'+
                                                '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                    '<h4 class="pl15 pr15">'+
                                                        '<i class="fa fa-briefcase"></i> <span class="experience_employment">'+$this.find('#id_employment').val()+'</span>'+
                                                        ' | <small>'+
                                                            '<a data-toggle="collapse" data-target=".experience-form-'+experience_id+'" class="clickable">Update</a>'+
                                                            ' - '+
                                                            '<a class="clickable remove-card" data-card=".experience-form-'+experience_id+'" data-card-type="experience"> Remove</a>'+
                                                        '</small>'+
                                                        '<small class="pull-right hidden"><i class="fa fa-clock-o"></i> <span class="experience_duration">'+$this.find('#id_start_date').val()+'</span></small>'+
                                                    '</h4>'+
                                                    '<div class="container-fluid">'+
                                                        '<div class="row">'+
                                                            '<div class="col-md-6">'+
                                                                '<h4 class=""><i class="fa fa-building"></i> <span class="#experience_company">'+$this.find('#id_company').val()+'</span></h4>'+
                                                                '<span><i class="fa fa-map-marker"></i> <span class="experience_location">'+address+'</span></span>'+
                                                            '</div>'+
                                                            '<div class="col-md-6 text-right pt10">'+
                                                                '<small class=""><i class="fa fa-calendar"></i> <span class="experience_date">'+startdate + ' - ' + enddate+'</span></small>'+
                                                            '</div>'+
                                                        '</div>'+
                                                        '<p class="mt10"><span class="experience_tasks">'+$this.find('#id_tasks').val()+'</span></p>'
                                                    '</div>'+
                                                '</div>'+
                                            '</div>';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',experience_id);
			                            $this.attr('action',$this.attr('action')+experience_id+'/');
			                            $this.attr('id','experience-form-'+experience_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.parent().removeClass('experience-form-0 in');
			                            $this.parent().addClass('experience-form-'+experience_id);
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.experience-form-'+experience_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_experience_form').show();
			                        }
                                    window.location.hash = '#experience-section'
			                    }
			                    else {
			                        //Show error
			                        if ('company' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_company]');
			                            console.log(data.errors.company)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_company').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.company).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('industry' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_industry]');
			                            console.log(data.errors.industry)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_industry').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.industry).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('country' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_country]');
			                            console.log(data.errors.country)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_country').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.country).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('employment' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_employment]');
			                            console.log(data.errors.employment)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_employment').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.employment).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('tasks' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_tasks]');
			                            console.log(data.errors.tasks)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_tasks').parent().addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.tasks).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('end_date' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_end_date]');
			                            console.log(data.errors.end_date)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_end_date').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.end_date).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('city' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_city]');
			                            console.log(data.errors.city)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_city').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.city).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('state' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_state]');
			                            console.log(data.errors.state)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_state').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.state).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('start_date' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_start_date]');
			                            console.log(data.errors.start_date)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_start_date').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.start_date).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }	        
			        $('form[id^=experience-form]').submit(function(e){update_experience(this,e);});
			        $('.add_experience_form').click(function(){
			            $(this).hide();
			            experience_form = $('#experience_form').clone();
			            experience_form.attr('id','');
			            experience_form.addClass('in form-row');
			            experience_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
				            }
			            })
                    experience_form.find('#id_start_date').datepicker(dpicker);
                    experience_form.find('#id_end_date').datepicker(dpicker);
			            experience_form.insertAfter($('#experience_form'));
			            $('.form-row #experience-form-0').submit(function(e){update_experience(this,e)});
			        });

		        //ACADEMIC

			        function update_academic(_this,e){
			            $this = $(_this);
				            // alert('submitting');
				            e.preventDefault();

				            // Clear Error Highlights before SUbmission
				            $this.find('.error-list').remove();
				            $this.find('.has-error').removeClass('has-error');

				            // Parse data for submission
				            var formdata = $this.serializeArray();
				            formdata.push({'name':'isPublic','value':true})

				            // Disable buttons
				            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
		                    $this.find('.btn').prop('disabled',true);
		                    $this.find('.btn').removeClass('disabled');
		                    id = $this.data('id');
		                    if(!id){
		                    	id=0;
		                    }

	                    // Send Ajax request
	                    $.ajax({
			                url:'/ajax/validate_academic_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                    console.log(data);console.log('data');
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.academic-form-'+id;
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            console.log($row)
			                            $row.find('.academic_coursename').html($this.find('#id_course_name').val()+', '+$this.find('#id_area').val());
			                            $row.find('.academic_degree').html($this.find('#id_degree option:selected').text());
			                            $row.find('.academic_status').html($this.find('#id_status option:selected').text());
			                            $row.find('.academic_school').html($this.find('#id_school').val());
			                            city = $this.find('#id_city').val()
			                            state = $this.find('#id_state').val()
			                            address=""
			                            if(city){
			                                address = city + ', ';
			                            }
			                            if(state){
			                                address += state + ', ';
			                            }
			                            $row.find('.academic_location').html(address + $this.find('#id_country option:selected').text())
			                            startdate = toreadabledate($this.find('#id_start_date').val());
			                            if ($this.find('#id_status').val() == 5) {
			                                enddate = "ongoing";
			                            }
			                            else {
			                                endddate = toreadabledate($this.find('#id_end_date').val());
			                            }
			                            $row.find('.academic_date').html(startdate + ' - ' + enddate);
			                        }
			                        else {
			                        	academic_id++;
			                            city = $this.find('#id_city').val()
			                            state = $this.find('#id_state').val()
			                            address=""
			                            if(city){
			                                address = city + ', ';
			                            }
			                            if(state){
			                                address += state + ', ';
			                            }
			                            startdate = toreadabledate($this.find('#id_start_date').val());
			                            enddate = toreadabledate($this.find('#id_end_date').val());
			                            if ($this.find('#id_status').val() == 5) {
			                                enddate = "ongoing";
			                            }
			                            html = '<div class="row academic-form-'+academic_id+' collapse fade in">'+
                                                '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                    '<h4 class="pl15 pr15">'+
                                                        '<i class="fa fa-certificate"></i> <span class="academic_coursename">'+$this.find('#id_course_name').val()+', '+$this.find('#id_area').val()+'</span>'+
                                                        ' | <small>'+
                                                            '<a data-toggle="collapse" data-target=".academic-form-'+academic_id+'" class="clickable">Update</a>'+
                                                            ' - '+
                                                            '<a class="clickable remove-card" data-card=".academic-form-'+academic_id+'" data-card-type="academic"> Remove</a>'+
                                                        '</small>'+
                                                        '<small class="pull-right"><i class="fa fa-flag-checkered"></i> <span class="academic_status">'+$this.find('#id_status option:selected').text()+'</span></small>'+
                                                    '</h4>'+
                                                    '<h5 class="pl15 pr15 no-margin-bottom"><i class="fa fa-mortar-board"></i> <span class="academic_degree">'+$this.find('#id_degree option:selected').text()+'</span></h5>'+
                                                    '<div class="container-fluid">'+
                                                        '<div class="row">'+
                                                            '<div class="col-md-6">'+
                                                                '<h5 class=""><i class="fa fa-university"></i> <span class="academic_school">'+$this.find('#id_school').val()+'</span></h5>'+
                                                                '<span><i class="fa fa-map-marker"></i> <span class="academic_location">'+address + $this.find('#id_country option:selected').text()+'</span></span>'+
                                                            '</div>'+
                                                            '<div class="col-md-6 text-right pt10">'+
                                                                '<small class=""><i class="fa fa-calendar"></i> <span class="academic_date">'+startdate + ' - ' + enddate+'</span></small>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',academic_id);
			                            $this.attr('action',$this.attr('action')+academic_id+'/');
                                        $this.attr('id','academic-form-'+academic_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.parent().removeClass('academic-form-0 in');
			                            $this.parent().addClass('academic-form-'+academic_id);
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.academic-form-'+academic_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_academic_form').show();
			                        }
                                    window.location.href="#academic-section";
			                    }
			                    else {
			                        //Show error
			                        if ('area' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_area]');
			                            console.log(data.errors.area)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_area').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.area).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('course_name' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_course_name]');
			                            console.log(data.errors.course_name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_course_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.course_name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('degree' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_degree]');
			                            console.log(data.errors.degree)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_degree').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.degree).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('city' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_city]');
			                            console.log(data.errors.city)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_city').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.city).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('country' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_country]');
			                            console.log(data.errors.country)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_country').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.country).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('end_date' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_end_date]');
			                            console.log(data.errors.end_date)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_end_date').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.end_date).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('school' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_school]');
			                            console.log(data.errors.school)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_school').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.school).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('state' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_state]');
			                            console.log(data.errors.state)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_state').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.state).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('start_date' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_start_date]');
			                            console.log(data.errors.start_date)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_start_date').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.start_date).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('status' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_status]');
			                            console.log(data.errors.status)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_status').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.status).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('other' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_other]');
			                            console.log(data.errors.other)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_other').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.other).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }

			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }
			        $('form[id^=academic-form]').submit(function(e){update_academic(this,e)});
			        $('.add_academic_form').click(function(){
			            $(this).hide();
			            academic_form = $('#academic_form').clone();
			            academic_form.attr('id','');
			            academic_form.addClass('in form-row');
			            academic_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
			                }
			            })
                    academic_form.find('#id_start_date').datepicker(dpicker);
                    academic_form.find('#id_end_date').datepicker(dpicker);
                    academic_form.find('#id_status').change(academic_status_change);
			            academic_form.insertAfter($('#academic_form'));
			            $('.form-row #academic-form-0').submit(function(e){update_academic(this,e)});
			        });

		        //TRAINING

			        function update_training(_this,e){
			            $this = $(_this);
			            // alert('submitting');
			            e.preventDefault();

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $this.serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');
	                    id = $this.data('id');
	                    if(!id){
	                    	id=0;
	                    }

	                    // Send Ajax request
			            $.ajax({
			                url:'/ajax/validate_training_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.training-form-'+id
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            $row.find('.training_name').html($this.find('#id_name').val());
			                            $row.find('.training_description').html($this.find('#id_description').val());
			                        }
			                        else {
			                            // q='.training-form-0:not(';
			                            // $(q).collapse('toggle');
			                            // $this = $(q);
			                            training_id++;
			                            name = $this.find('#id_name').val()
			                            description = $this.find('#id_description').val()
			                            html =  '<div class="row training-form-'+training_id+' collapse fade in">'+
                                            '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                '<h4 class="pl15 pr15">'+
                                                    '<i class="fa fa-certificate"></i> <span class="training_name">'+name+'</span>'+
                                                    ' | <small>'+
                                                        '<a data-toggle="collapse" data-target=".training-form-'+training_id+'" class="clickable">Update</a>'+
                                                        ' - '+
                                                        '<a class="clickable remove-card" data-card=".training-form-'+training_id+'" data-card-type="training"> Remove</a>'+
                                                    '</small>'+
                                                '</h4>'+
                                                '<div class="container-fluid">'+
                                                    '<div class="row">'+
                                                        '<div class="col-md-12">'+
                                                            '<p class="training_description">'+description+'</p>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'+
                                        '</div> ';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',training_id);
			                            $this.attr('action',$this.attr('action')+training_id+'/');
                                        $this.attr('id','training-form-'+training_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.parent().removeClass('training-form-0 in');
			                            $this.parent().addClass('training-form-'+training_id);
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.training-form-'+training_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_training_form').show();
			                        }
                                    window.location.href="#training-section";
			                    }
			                    else {
			                        //Show error
			                        if ('name' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_name]');
			                            console.log(data.errors.name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('description' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_description]');
			                            console.log(data.errors.description)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_description').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.description).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }
			        $('form[id^=training-form]').submit(function(e){update_training(this,e)});
			        $('.add_training_form').click(function(){
			            $(this).hide();
			            training_form = $('#training_form').clone();
			            training_form.attr('id','');
			            training_form.addClass('in form-row');
			            training_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
				            }
			            });
			            training_form.insertAfter($('#training_form'));
			            $('.form-row #training-form-0').submit(function(e){update_training(this,e)});
			        });

		        //PROJECT

			        function update_project(_this,e){
			            $this = $(_this);
			            // alert('submitting');
			            e.preventDefault();

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $this.serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');
	                    id = $this.data('id');
	                    if(!id){
	                    	id=0;
	                    }

	                    // Send Ajax request
			            $.ajax({
			                url:'/ajax/validate_project_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                 }, 
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.project-form-'+id
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            $row.find('.project_name').html($this.find('#id_name').val());
			                            $row.find('.project_description').html($this.find('#id_description').val());
			                            
			                        }
			                        else {
			                            // q='.project-form-0:not(';
			                            // $(q).collapse('toggle');
			                            // $this = $(q);
			                            project_id++;
			                            name = $this.find('#id_name').val()
			                            description = $this.find('#id_description').val()
			                            html =  '<div class="row project-form-'+project_id+' collapse fade in">'+
                                            '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                '<h4 class="pl15 pr15">'+
                                                    '<i class="fa fa-certificate"></i> <span class="project_name">'+name+'</span>'+
                                                    ' | <small>'+
                                                        '<a data-toggle="collapse" data-target=".project-form-'+project_id+'" class="clickable">Update</a>'+
                                                        ' - '+
                                                        '<a class="clickable remove-card" data-card=".project-form-'+project_id+'" data-card-type="project"> Remove</a>'+
                                                        '</a>'+
                                                    '</small>'+
                                                '</h4>'+
                                                '<div class="container-fluid">'+
                                                    '<div class="row">'+
                                                        '<div class="col-md-12">'+
                                                            '<p class="project_description">'+description+'</p>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'+
                                        '</div> ';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',project_id);
			                            $this.attr('action',$this.attr('action')+project_id+'/');
                                        $this.attr('id','project-form-'+project_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.parent().removeClass('project-form-0 in');
			                            $this.parent().addClass('project-form-'+project_id);
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.project-form-'+project_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_project_form').show();
			                        }
                                    window.location.href="#project-section";
			                    }
			                    else {
			                        //Show error
			                        if ('name' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_name]');
			                            console.log(data.errors.name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('description' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_description]');
			                            console.log(data.errors.description)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_description').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.description).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }
			        $('form[id^=project-form]').submit(function(e){update_project(this,e)});
			        $('.add_project_form').click(function(){
			            $(this).hide();
			            project_form = $('#project_form').clone();
			            project_form.attr('id','');
			            project_form.addClass('in form-row');
			            project_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
				            }
			            });
			            project_form.insertAfter($('#project_form'));
			            $('.form-row #project-form-0').submit(function(e){update_project(this,e)});
			        });

		        //CERTIFICATE

			        function update_certificate(_this,e){
			            $this = $(_this);
			            // alert('submitting');
			            e.preventDefault();

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $this.serializeArray();
			            formdata.push({'name':'isPublic','value':true})

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');
	                    id = $this.data('id');
	                    if(!id){
	                    	id=0;
	                    }

	                    // Send Ajax request
			            $.ajax({
			                url:'/ajax/validate_certificate_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.certificate-form-'+id
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            $row.find('.certificate_name').html($this.find('#id_name').val());
			                            $row.find('.certificate_description').html($this.find('#id_description').val());
			                            
			                        }
			                        else {
			                            // q='.certificate-form-0:not(';
			                            // $(q).collapse('toggle');
			                            // $this = $(q);
			                            certificate_id++;
			                            name = $this.find('#id_name').val()
			                            description = $this.find('#id_description').val()
                                        html =  '<div class="row certificate-form-'+certificate_id+' collapse fade in">'+
                                            '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                '<h4 class="pl15 pr15">'+
                                                    '<i class="fa fa-certificate"></i> <span class="certificate_name">'+name+'</span>'+
                                                    ' | <small>'+
                                                        '<a data-toggle="collapse" data-target=".certificate-form-'+certificate_id+'" class="clickable">Update</a>'+
                                                        ' - '+
                                                        '<a class="clickable remove-card" data-card=".certificate-form-'+certificate_id+'" data-card-type="certificate"> Remove</a>'+
                                                        '</a>'+
                                                    '</small>'+
                                                '</h4>'+
                                                '<div class="container-fluid">'+
                                                    '<div class="row">'+
                                                        '<div class="col-md-12">'+
                                                            '<p class="certificate_description">'+description+'</p>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'+
                                        '</div> ';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',certificate_id);
			                            $this.attr('action',$this.attr('action')+certificate_id+'/');
                                        $this.attr('id','certificate-form-'+certificate_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.parent().removeClass('certificate-form-0 in');
			                            $this.parent().addClass('certificate-form-'+certificate_id);
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.certificate-form-'+certificate_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_certificate_form').show();
			                        }
                                    window.location.href="#certificate-section";
			                    }
			                    else {
			                        //Show error
			                        if ('name' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_name]');
			                            console.log(data.errors.name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('description' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_description]');
			                            console.log(data.errors.description)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_description').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.description).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }
			        $('form[id^=certificate-form]').submit(function(e){update_certificate(this,e)});
			        $('.add_certificate_form').click(function(){
			            $(this).hide();
			            certificate_form = $('#certificate_form').clone();
			            certificate_form.attr('id','');
			            certificate_form.addClass('in form-row');
			            certificate_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
				            }
			            });
			            certificate_form.insertAfter($('#certificate_form'));
			            $('.form-row #certificate-form-0').submit(function(e){update_certificate(this,e)});
			        });

		        //LANGUAGE

			        function update_language(_this,e){
			            $this = $(_this);
			            // alert('submitting');
			            e.preventDefault();

			            // Clear Error Highlights before SUbmission
			            $this.find('.error-list').remove();
			            $this.find('.has-error').removeClass('has-error');

			            // Parse data for submission
			            var formdata = $this.serializeArray();
			            formdata.push({'name':'isPublic','value':true})
			            console.log(formdata)

			            // Disable buttons
			            $this.find('.btn').html('<i class="fa fa-pulse fa-spinner fa-lg "></i> Please Wait');
	                    $this.find('.btn').prop('disabled',true);
	                    $this.find('.btn').removeClass('disabled');
	                    id = $this.data('id');
	                    if(!id){
	                    	id=0;
	                    }

	                    // Send Ajax request
			            $.ajax({
			                url:'/ajax/validate_language_form/',
			                type:'post',
			                data:formdata,
			                complete: function(data){
			                    $this.find('.btn-info').html('<i class="fa fa-check-circle fa-lg"></i> Save and Update');
			                    $this.find('.btn-default').html('<i class="fa fa-chevron-circle-left fa-lg"></i> Cancel');
			                    $this.find('.btn').prop('disabled',false);
			                    $this.find('.btn').removeClass('disabled');
			                },
			                success: function(data){
			                    console.log(data);
			                    if(data.success == true){
			                        if(id>0){
			                            q = '.language-form-'+id
			                            $(q).collapse('toggle');
			                            $row = $(q + ':not(.form-row)');
			                            $row.find('.language_name').html($this.find('#id_language option:selected').text());
			                        	level = []
			                        	if ($this.find('#id_read')[0].checked){
			                        		level.push('Read')
			                        	}
			                        	if ($this.find('#id_write')[0].checked){
			                        		level.push('Write')
			                        	}
			                        	if ($this.find('#id_speak')[0].checked){
			                        		level.push('Speak')
			                        	}
			                        	level = level.join();
			                            $row.find('.language_level').html(level);
			                            
			                        }
			                        else{
			                        	language_id++;
			                        	level = []
			                        	if ($this.find('#id_read')[0].checked){
			                        		level.push('Read')
			                        	}
			                        	if ($this.find('#id_write')[0].checked){
			                        		level.push('Write')
			                        	}
			                        	if ($this.find('#id_speak')[0].checked){
			                        		level.push('Speak')
			                        	}
			                        	level = level.join();
			                            html = '<div class="row language-form-'+language_id+' collapse fade in">'+
                                                '<div class="container-fluid bg-white border-bottom border-light br-2 pt20 pb20 pr20 pl20">'+
                                                    '<h4 class="pl15 pr15">'+
                                                        '<i class="fa fa-language"></i> <span class="language_name">'+$this.find('#id_language option:selected').text()+'</span>'+
                                                        ' | <small>'+
                                                            '<a data-toggle="collapse" data-target=".language-form-'+language_id+'" class="clickable">Update</a>'+
                                                            ' - '+
                                                            '<a class="clickable remove-card" data-card=".language-form-'+language_id+'" data-card-type="language"> Remove</a>'+
                                                        '<small class="pull-right"><i class="fa fa-flag-checkered"></i> <span class="language_level">'+level+'</span></small>'+
                                                    '</h4>'+
                                                '</div>'+
                                            '</div>';
			                            $card = $(html).insertBefore($this.parent());
			                            $this.attr('data-id',language_id);
			                            $this.attr('action',$this.attr('action')+language_id+'/');
			                            $this.parent().removeClass('language-form-0 in');
			                            $this.parent().addClass('language-form-'+language_id);
                                        $this.attr('id','language-form-'+language_id);
			                            $card.find('.remove-card').click(function(){removeCard(this);});
			                            $this.find('.form-destruct').unbind('click');
			                            $this.find('.form-destruct').attr('data-toggle','collapse');
			                            $this.find('.form-destruct').attr('data-target','.language-form-'+language_id);
			                            $this.find('.form-destruct').removeClass('form-destruct');
			                            $('.add_language_form').show();
			                        }
                                    window.location.href="#language-section";
			                    }
			                    else {
			                        //Show error
			                        if ('language' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_name]');
			                            console.log(data.errors.name)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_name').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.name).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('read' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_read]');
			                            console.log(data.errors.read)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_read').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.read).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('write' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_write]');
			                            console.log(data.errors.write)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_write').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.write).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                        if ('speak' in data.errors)
			                        {
			                            html = "<ul class = 'error-list text-danger'></ul>"
			                            label = $this.find('[for=id_speak]');
			                            console.log(data.errors.speak)
			                            $elist = $(html).insertAfter($(label).next());
			                            $this.find('#id_speak').parents('.form-group').addClass('has-error')
			                            console.log($elist)
			                            $(data.errors.speak).each(function(k,v){
			                                $elist.append('<li>'+v+'</li>');
			                                // $this.find(
			                            });
			                        }
			                    }   
			                },
			                error: function(e){
			                    console.log(e);
			                }
			            });
						return false;
			        }
			        $('form[id^=language-form]').submit(function(e){update_language(this,e)});
			        $('.add_language_form').click(function(){
			            $(this).hide();
			            language_form = $('#language_form').clone();
			            language_form.attr('id','');
			            language_form.addClass('in form-row');
			            language_form.find('.form-destruct').click(function(){
			            	if($(this).hasClass('form-destruct')){
				                add = $(this).parents('section').find('.form-add');
				                discardform(this,add);
				            }
			            });
			            language_form.insertAfter($('#language_form'));
			            $('.form-row #language-form-0').submit(function(e){update_language(this,e)});
			        });
	        
	        /* VALIDATING FORM END */

	        $('#generate_public_cv').click(function(e){
	        	console.log('GENERATING PUBLIC CV');
	        	console.log('Validation Started');
	        	formdata={}
                formdata["email"] = $('#id_public_email').html();
                // formdata.push(object);
	        	// formdata['email']=$('#profile_email').html();
	        	// formdata['personal']= $('[id^=candidate-form]').serializeArray();
                // object={}
                // formdata['personal'] = []
                data = {}
                array = $('form[id^=candidate-form]').serializeArray();
	        	$(array).each(function(k,el){
	        		data[el.name] = el.value;
	        	});
                formdata["personal"] = JSON.stringify(data)
                data={}
                array = $('form[id^=objective-form]').serializeArray();
                $(array).each(function(k,el){
                    data[el.name] = el.value;
                });
                formdata["objective"] = JSON.stringify(data) 
                array = $('form[id^=interests-form]').serializeArray();
                $(array).each(function(k,el){
                    data[el.name] = el.value;
                });
                formdata["interests"] = JSON.stringify(data) 
	        	experience_forms = $('form[id^=experience-form-]').not('form[id=experience-form-0]');
	        	experiences = []
	        	$(experience_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
	        		experiences.push(data);
	        	});
	        	formdata['experiences'] = JSON.stringify(experiences);
	        	academic_forms = $('form[id^=academic-form-]').not('form[id=academic-form-0]');
	        	academics = []
	        	$(academic_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
                    academics.push(data);
	        	});
	        	formdata['academics'] = JSON.stringify(academics);
	        	training_forms = $('form[id^=training-form-]').not('form[id=training-form-0]');
	        	trainings = []
	        	$(training_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
                    trainings.push(data);
	        	});
	        	formdata['trainings'] = JSON.stringify(trainings);
	        	certificate_forms = $('form[id^=certificate-form-]').not('form[id=certificate-form-0]');
	        	certificates = []
	        	$(certificate_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
                    certificates.push(data);
	        	});
	        	formdata['certificates'] = JSON.stringify(certificates);
	        	project_forms = $('form[id^=project-form-]').not('form[id=project-form-0]');
	        	projects = []
	        	$(project_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
                    projects.push(data);
	        	});
	        	formdata['projects'] = JSON.stringify(projects);
	        	language_forms = $('form[id^=language-form-]').not('form[id=language-form-0]');
	        	languages = []
	        	$(language_forms).each(function(k,el){
                    data = {}
                    array = $(el).serializeArray();
                    $(array).each(function(k,Ele){
                        data[Ele.name] = Ele.value;
                    });
                    languages.push(data);
	        	});
	        	formdata['languages'] = JSON.stringify(languages);
	        	console.log(formdata);
	        	$.ajax({
	        		url: '/ajax/generate_public_cv/',
	        		type: 'POST',
	        		data: formdata,
                    // dataType: 'JSON',
	        		success: function(data){
	        			console.log(data);
	        			if (data.success){
	        				location.href=data.url
	        			}
                        else {

                        }
	        		},
	        		error: function(data){
	        			console.log(data);
	        		}
	        	});
	        });

	        function toreadabledate(d){
	            var monthNames = ["Jan.", "Feb.", "Mar.", "Apr.", "May", "Jun.", "Jul.", "Aug.", "Sep.", "Oct.", "Nov.", "Dec."];
	            date = new Date(d);
	            month = monthNames[date.getMonth()]

	            return month + ' ' + date.getDate() + ', ' + date.getYear();
	        }
	        function discardform(_this,add){
                $section = $(_this).parents('section');
	            $(_this).parents('form').parent().remove();
	            $(add).show();
                checkforsurvivors($section);
	        }
            function checkforsurvivors($this){
                console.log($this.find('.form-row').length)
                if($this.find('.form-row').length == 0){
                    $this.find('.no-card').collapse('show')
                }
            }
            $('.form-add').click(function(){
                $(this).parents('section').find('.no-card').collapse('hide');
            })
	        $('.personal-profile').collapse('toggle');
            // $('.contact').collapse('toggle');
            // $('.objective-skills').collapse('toggle');
            // $('.interests').collapse('toggle');
            // $('.hobbies').collapse('toggle');
            // $('.extra_curriculars').collapse('toggle');
            // $('.others').collapse('toggle');
	        // $('.add_experience_form').click();
	        // $('.add_academic_form').click();
	        // $('.add_training_form').click();
	        // $('.add_certificate_form').click();
	        // $('.add_project_form').click();
	        // $('.add_language_form').click();
        });
	</script>
{% endblock %}